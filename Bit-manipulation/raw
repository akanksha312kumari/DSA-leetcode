import java.util.*;

public class bitManipulation{
    public static int checkOddEven(int n){
        int bitMask = 1;
        return n & bitMask;
    }

    public static int getIthBit(int n, int i){
        int bitMask = 1 << i;
        return (n&bitMask) ;
    }

    public static int setIthBit(int n, int i){
        int bitMask = 1 << i;
        return n|bitMask;
    }

    public static int clearIthBit(int n, int i){
        int bitMask = ~(1<<i);
        return n&bitMask;
    }

    public static int clearLastIBits(int n, int i){
        int bitMask = (~0)<<i;
        return n & bitMask;
    }

    public static int clearRangeOfBits(int n, int i, int j){
        int a = (~0)<<j+1;
        int b = (1<<i)-1;
        int bitMask = a|b;
        return n & bitMask;
    }

    public static int checkPowerOf2(int n){
        int bitMask = n-1;
        return n & bitMask;
    }

    public static int countSetBits(int n){
        int count = 0;
        int bitMask = 1;
        
        while(n > 0){
            if ((n & bitMask) == 1){
                count ++;
            }

            n = n>>1 ;
        }
        return count;
    }

    public static int fastExponen(int a, int n){
        int ans = 1;

        while ( n > 0 ){
            if ((n & 1) == 1){
                ans = ans * a;
            }

            a = a * a;
            n = n >> 1;
        }

        return ans;
    }

    public static void main(String args[]){
        Scanner sc = new Scanner(System.in);

        System.out.println("Enter the number: ");
        int n = sc.nextInt();

        int ans,i,j;
        do {
            System.out.println("""
            Press 1 to check odd or even.
            Press 2 to get ith bit.
            Press 3 to set ith bit.
            Press 4 to clear ith bit.
            Press 5 to clear last i bits.
            Press 6 to clear range of bits.
            Press 7 to check if a number is power of 2.
            Press 8 to count set bits in a number.
            Press 9 to perform exponentiation.
            Press 10 to change the input number.
            Press 11 to exit.
            """);
            ans = sc.nextInt();

            switch (ans){
                case 1:
                    if (checkOddEven(n)==0){
                        System.out.println("The number is EVEN.");
                    } else {
                        System.out.println("The number is ODD.");
                    }
                    break;
                case 2:
                    System.out.println("Enter the position of the bit :");
                    i = sc.nextInt();

                    if (getIthBit(n,i)==0){
                        System.out.println("0");
                    } else {
                        System.out.println("1");
                    }
                    break;
                case 3:
                    System.out.println("Enter the position of the bit :");
                    i = sc.nextInt();
                    System.out.println(setIthBit(n,i));
                    break;
                case 4:
                    System.out.println("Enter the position of the bit :");
                    i = sc.nextInt();
                    System.out.println(clearIthBit(n,i));
                    break;
                case 5:
                    System.out.println("Enter the number of bits to remove from last :");
                    i = sc.nextInt();
                    System.out.println(clearLastIBits(n,i));
                    break;
                case 6:
                    System.out.println("Enter the starting index of the range :");
                    i = sc.nextInt();
                    System.out.println("Enter the ending index :");
                    j = sc.nextInt();
                    System.out.println(clearRangeOfBits(n,i,j));
                    break;
                case 7:
                    if (checkPowerOf2(n)==0){
                        System.out.println("Yes it is a power of two.");
                    } else {
                        System.out.println("No it is not a power of two.");
                    }
                    break;

                case 8:
                    int count = countSetBits(n);
                    System.out.println("The number of set bits are : " + count);
                    break;
                
                case 9: 
                    System.out.println("Enter the power: ");
                    int m = sc.nextInt();
                    System.out.println(fastExponen(n,m));
                    break;

                case 10:
                    System.out.println("Enter the number: ");
                    n = sc.nextInt();
                    break;
            }
        } while (ans != 11);


    }
}
